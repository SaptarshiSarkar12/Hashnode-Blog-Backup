---
title: "Build Native Images for a Java Application"
seoTitle: "Native Image for a Java Project"
seoDescription: "Learn how to build native images for a Java Project from simple Hello World program to complex projects."
datePublished: Sun Oct 15 2023 11:58:45 GMT+0000 (Coordinated Universal Time)
cuid: clnrexyvq000g09lecukeb5s7
slug: build-native-images-for-a-java-application
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1697293441660/42e16961-8672-4015-9526-6fb8ba1a9738.png
tags: java, graalvm, wemakedevs

---

### Having a hard time distributing Java Applications to your users? Are you using any paid tools for the same? What if I say, there is an Open-Source tool that will help you solve all the challenges you have faced?

Introducing you to **GraalVM** - A tool that helps to build native images for a Java Application.

![GraalVM for Java Application](https://cdn.hashnode.com/res/hashnode/image/upload/v1697365441671/af7a9291-c506-411c-b1c8-ccdc97f5f8e9.png align="center")

GraalVM can be used to build native images that will have almost **zero dependency requirements**, **have faster startup time** and comparatively **less memory usage.**

Let's see how we can build native images for a simple **Hello World** program. I shall use [**IntelliJ Idea**](https://www.jetbrains.com/idea/) as my IDE and [**Maven**](https://maven.apache.org/) as the build automation tool. You need to download **GraalVM JDK** from [their official downloads page](https://www.graalvm.org/downloads/).

I quickly created a simple **Hello World** program in ***IntelliJ Idea*** as you can see below üëá

![Hello World program running via Java](https://cdn.hashnode.com/res/hashnode/image/upload/v1697366569630/45c5bf02-5046-4a49-906b-52e5fada5cd0.png align="center")

The **pom.xml** file generated by IntelliJ Idea is a very simple pom file and looks like this üëá

![Initial pom.xml file as generated by IntelliJ Idea](https://cdn.hashnode.com/res/hashnode/image/upload/v1697367623626/b1b8dbbc-6a1b-4ec1-81b9-f49b0fa53418.png align="center")

I will add the GraalVM maven build plugin configuration to the pom and finally, it is üëá

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>org.example</groupId>
    <artifactId>HelloWorld</artifactId>
    <version>1.0-SNAPSHOT</version>
    <properties>
        <maven.compiler.source>20</maven.compiler.source>
        <maven.compiler.target>20</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
    </properties>

    <build>
        <plugins>
            <plugin>
                <groupId>org.graalvm.buildtools</groupId>
                <artifactId>native-maven-plugin</artifactId>
                <version>0.9.27</version>
                <extensions>true</extensions>
                <configuration>
                    <imageName>HelloWorld</imageName>
                    <mainClass>HelloWorld</mainClass>
                    <outputDirectory>target/</outputDirectory>
                    <buildArgs>
                        <buildArg>--no-fallback</buildArg>
                        <buildArg>-H:+ReportExceptionStackTraces</buildArg>
                        <buildArg>--verbose</buildArg>
                    </buildArgs>
                </configuration>
                <executions>
                    <execution>
                        <id>build</id>
                        <goals>
                            <goal>build</goal>
                        </goals>
                        <phase>package</phase>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
```

GraalVM maven plugin requires three environment variables to be defined in the terminal session before generating native images. You can set those three environment variables by running these three commands üëá

```bash
export JAVA_HOME=~/Downloads/graalvm
export GRAALVM_HOME=~/Downloads/graalvm
export PATH=~/Downloads/graalvm/bin:$PATH
```

I have previously downloaded **GraalVM JDK** in my **Downloads** folder. You will replace `Downloads` with the name of the folder in which graalvm is downloaded. You should rename the graalvm directory to only `graalvm` i.e. you should remove any version text from the directory name, for simplicity.

At last comes the time to build the native executable for our **Hello World** program. You should run this üëá command to build the native executable.

```yaml
mvn clean package
```

This command does two things :

* Deletes the previously created `target` directory (if it exists)
    
* Runs the `package` goal of the Maven lifecycle which includes the `package` goal of GraalVM build plugin  
    

The output of the above command is üëá

![Native image generation by GraalVM](https://cdn.hashnode.com/res/hashnode/image/upload/v1697369483864/120884c5-fe77-4662-8f96-1027991038b2.png align="center")

It builds the executable with the name `HelloWorld` in the `target` directory.

When we run the **HelloWorld** native image directly from the terminal, it runs without any Java Runtime üéâ!

![Running the image](https://cdn.hashnode.com/res/hashnode/image/upload/v1697369695311/87631f6c-17e1-441b-9ef4-7e93e4ee4b10.png align="center")

As you can see, the **native application** starts up in milliseconds which is very fast. This is how a simple Java app can be distributed as a native image. You can also build these images for **MacOS, Windows and Linux** on the respective systems by **leveraging CI/CD pipelines' capabilities**. I recommend **GitHub Actions** to build these native images and store them as artifacts for each run. You can check [this GitHub Actions workflow file](https://github.com/SaptarshiSarkar12/Drifty/blob/master/.github/workflows/build.yml) that I have created for a complex Java project - [**Drifty**](https://github.com/SaptarshiSarkar12/Drifty) which is an ***Open-Source Interactive File Downloader System.***

**Drifty uses Java and JavaFX for its CLI and GUI counterparts**. So, I had to use [GluonFX Maven Plugin](https://github.com/gluonhq/gluonfx-maven-plugin/) to build **native images for the JavaFX application**.

So, that is how you can build native images for any **Java project.** GraalVM also supports building the same for **Micronaut**, **Helidon**, **Quarkus** and **Spring Boot** applications.

---

### Some important links you can check:

* [GraalVM docs](https://www.graalvm.org/latest/docs/)
    
* [GluonFX docs](https://docs.gluonhq.com/#_gluonfx_plugin_for_maven)
    
* [Give a star ‚≠ê to the GraalVM Open-Source project](https://github.com/oracle/graal)
    
* [Give a star ‚≠ê to Drifty - An Open-Source Interactive File Downloader System which uses GraalVM and GluonFX](https://github.com/SaptarshiSarkar12/Drifty)
    

### [Connect with me](https://bio.link/saptarshi)